================================================================================
작성일: 2025-12-15
버전: 2.0 (동적 이동시간 계산 반영)
목적: 방장의 이동시간을 비공개로 유지하면서, 조원들이 실제로 불가능한 시간을 선택하지 못하도록 사전에 차단하는 시스템 구축
================================================================================

🔥 핵심 개념: 이동시간은 "관계값"이다 (가장 중요!)
================================================================================

[잘못된 접근 ❌]
"A는 이동시간 10분, B는 이동시간 1시간"
→ 사람별 고정 이동시간으로 생각하면 100% 충돌 발생

[올바른 접근 ✅]
이동시간 = (이전 일정의 위치) → (현재 일정의 위치)


[왜 이게 중요한가?]

📌 시나리오 1: 순서에 따라 이동시간이 달라짐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
초기 배정:
  월요일: A(9:00), B(11:00)
  - A 이동시간: 방장 집 → A 위치 = 60분 (8:00-9:00)
  - B 이동시간: A 위치 → B 위치 = 10분 (10:50-11:00)

A와 B 순서 교환 후:
  월요일: B(9:00), A(11:00)
  - B 이동시간: 방장 집 → B 위치 = 60분 (8:00-9:00) ← 변경!
  - A 이동시간: B 위치 → A 위치 = 10분 (10:50-11:00) ← 변경!

👉 같은 A인데, 첫 번째면 60분, 두 번째면 10분!


📌 시나리오 2: 요일에 따라 이동시간이 달라짐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
월요일: A(9:00), B(11:00)
- B 이동시간: A → B = 10분

수요일: B(9:00) [혼자]
- B 이동시간: 방장 집 → B = 60분 ← 같은 B인데 60분!

👉 B의 이동시간은 요일과 앞 일정에 따라 10분 또는 60분


📌 시나리오 3: 중간 삽입 시 이동시간 재계산
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
기존: A(9:00), C(13:00)
- A: 방장 집 → A = 60분
- C: A → C = 90분 (11:30-13:00)

B를 11:00에 삽입:
- A: 방장 집 → A = 60분
- B: A → B = 10분 (10:50-11:00) ← 새로 계산
- C: B → C = 40분 (12:20-13:00) ← 90분에서 40분으로 감소!

👉 C의 이동시간이 B 삽입으로 인해 90분 → 40분으로 변경


[결론]
이동시간은 고정값이 아니라, '해당 시간을 선택했을 때 앞뒤 일정이 무엇이 되느냐'에 따라 매번 새로 계산되는 동적 제약 조건이다.

================================================================================
📌 요구사항 요약
================================================================================

[핵심 원칙]
1. 조원들은 방장의 이동시간을 절대 볼 수 없음 (비공개 정보)
2. 조원이 시간을 선택할 때, 시스템은 내부적으로 시뮬레이션을 수행:
   - 해당 시간에 배치될 경우 이전/다음 일정이 무엇인지 계산
   - 각 일정 간 이동시간을 동적으로 계산
   - 금지시간, 충돌 등을 모두 검증
3. 조원에게는 결과(가능/불가능)만 보여주고, 이유(이동시간)는 숨김


[시스템 동작 원리]
조원이 시간 T를 선택하려고 할 때:
① 시스템은 T가 배치되었을 때의 전체 스케줄을 시뮬레이션
② 앞 일정의 위치 → T 위치까지 이동시간 계산
③ T 위치 → 뒤 일정의 위치까지 이동시간 계산
④ 이동시간 + 금지시간 + 다른 제약을 모두 확인
⑤ 하나라도 위반하면 → "선택 불가"
⑥ 모두 만족하면 → "선택 가능"


[조원이 보는 것]
✅ 선택 가능한 시간 (파란색)
❌ 선택 불가능한 시간 (회색, "선택할 수 없습니다")
❓ 왜 불가능한지는 절대 표시 안 함
===============================================================================