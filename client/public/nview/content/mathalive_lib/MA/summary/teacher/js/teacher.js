(()=>{"use strict";var e={762:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const i=o(478),n=o(201);function s(e){if(!e)return e;e.displayMode=""+e.displayMode=="2"?"2":"1";let t=e.thumb&&""!==e.thumb?e.thumb:"";(t.startsWith("static/")||""===t)&&(t="/content/mathalive_lib/images/default_elephant.png",e.thumb=t);let o=e.avatar&&""!==e.avatar?e.avatar:"";return""===o&&(o="/content/mathalive_lib/images/default_cheese.png",e.avatar=o),console.log("=====> _initStudent student",e),e}class a{static get isMobile(){return a._isMobile}static get tempEl(){return a._tempEl}static pub_init(){const e=navigator.userAgent;a._isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e)||/android/i.test(e),a._tempBnd=document.createElement("div"),a._tempBnd.style.display="none",a._tempEl=document.createElement("div"),a._tempBnd.appendChild(a._tempEl),null===document.body?document.addEventListener("DOMContentLoaded",(e=>{document.body.appendChild(a._tempBnd)})):document.body.appendChild(a._tempBnd)}static get students(){return a._students}static get student(){return a._student}static get lang(){return a._lang}static get isDvlp(){return a._isDvlp}static get data_url(){return a._data_url}static get lesson(){return a._lesson}static get book(){return a._book}static get nextBook(){return a._nextBook}static get prevBook(){return a._prevBook}static get addOnHost(){return a._addOnHost}static pub_load(e,t,o,i,n,r,c){a._lesson=i,a._book=o,a._nextBook=r,a._prevBook=c,a._students=[],e&&Array.isArray(e)&&e.forEach(((e,t)=>{a._students[t]=s(e)})),a._student=s(t),n&&""!==n&&(a._addOnHost=n)}static pub_reloadStudents(e){n.getStudents(((t,o)=>{for(;a._students.length>0;)a._students.pop();for(;a._students_inited.length>0;)a._students_inited.pop();for(let e=0,o=t.length;e<o;e++)a.isDvlp?a._students[e]=s(t[e]):a._students[e]=s({id:t[e].id,name:t[e].name,thumb:t[e].defaultThumbnail,avatar:t[e].profileThumbnail,nickname:t[e].nickName,displayMode:t[e].displayMode,inited:!0}),a._students_inited.push(t[e].id);e()}))}static pub_parseStyle(e){return a._tempEl.style.cssText=e,a._tempEl.style}static pub_initAudio(){a._common_audio=document.getElementById("common_audio"),a._ding_audio=document.getElementById("ding_audio"),a._dingend_audio=document.getElementById("dingend_audio"),a._btn_audio=document.getElementById("btn_audio"),a._correct_audio=document.getElementById("correct_audio"),a._wrong_audio=document.getElementById("wrong_audio"),a._topad_audio=document.getElementById("topad_audio"),a._goodjob_audio=document.getElementById("goodjob_audio"),a._btn_back_audio=document.getElementById("btn_back_audio"),a._btn_page_audio=document.getElementById("btn_page_audio"),a._popup_audio=document.getElementById("popup_audio"),a._clock_audio=document.getElementById("clock_audio"),a._ts_bgm_audio=document.getElementById("ts_bgm_audio"),a._bs_audio=document.getElementById("bs_audio"),a._bb_audio=document.getElementById("bb_audio"),a._cd_audio=document.getElementById("cd_audio"),a._tc_audio=document.getElementById("tc_audio"),a._te_audio=document.getElementById("te_audio"),a._trg_bgm_audio=document.getElementById("trg_bgm_audio"),a._afc_audio=document.getElementById("afc_audio"),a._trs_audio=document.getElementById("trs_audio"),a._btn_choice_audio=document.getElementById("btn_choice_audio"),a._retry_audio=document.getElementById("retry_audio"),a._sorry_audio=document.getElementById("sorry_audio"),a._great_audio=document.getElementById("great_audio"),a._memorygame_flipcard_audio=document.getElementById("flipcard_audio"),a._ispy_gameclick_audio=document.getElementById("gameclick_audio")}static pub_playClock(){a._clock_audio&&(a._clock_audio.currentTime=4.5,a._clock_audio.play())}static pub_playPopup(){a._popup_audio&&(a._popup_audio.currentTime=0,a._popup_audio.play())}static pub_playBtnPage(){a._btn_page_audio&&(a._btn_page_audio.currentTime=0,a._btn_page_audio.play())}static pub_playBtnBack(){a._btn_back_audio&&(a._btn_back_audio.currentTime=0,a._btn_back_audio.play())}static pub_playGoodjob(){a._goodjob_audio&&(a._goodjob_audio.currentTime=0,a._goodjob_audio.play())}static pub_playDing(){a._ding_audio&&(a._ding_audio.currentTime=0,a._ding_audio.play())}static pub_playDingend(){a._dingend_audio&&(a._dingend_audio.currentTime=0,a._dingend_audio.play())}static pub_playToPad(){a._topad_audio&&(a._topad_audio.currentTime=0,a._topad_audio.play())}static pub_playBtnTab(){a._btn_audio&&(a._btn_audio.currentTime=0,a._btn_audio.play())}static pub_playCorrect(){a._correct_audio&&(a._correct_audio.currentTime=0,a._correct_audio.play())}static pub_playWrong(){a._wrong_audio&&(a._wrong_audio.currentTime=0,a._wrong_audio.play())}static pub_playTeamSelectBgm(){a._ts_bgm_audio&&(a._ts_bgm_audio.currentTime=0,a._ts_bgm_audio.play())}static pub_stopTeamSelectBgm(){a._ts_bgm_audio&&(a._ts_bgm_audio.pause(),a._ts_bgm_audio.currentTime=0)}static pub_playStartButton(){a._bs_audio&&(a._bs_audio.currentTime=0,a._bs_audio.play())}static pub_playBasicButton(){a._bb_audio&&(a._bb_audio.currentTime=0,a._bb_audio.play())}static pub_playCountDown(){a._cd_audio&&(a._cd_audio.currentTime=0,a._cd_audio.play())}static pub_playTimerClock(){a._tc_audio&&(a._tc_audio.currentTime=0,a._tc_audio.play())}static pub_stopTimerClock(){a._tc_audio&&(a._tc_audio.pause(),a._tc_audio.currentTime=0)}static pub_playTimerEnd(){a._te_audio&&(a._te_audio.currentTime=0,a._te_audio.play())}static pub_playResultGraph(){a._trg_bgm_audio&&(a._trg_bgm_audio.currentTime=0,a._trg_bgm_audio.play())}static pub_playFireworksClapping(){a._afc_audio&&(a._afc_audio.currentTime=0,a._afc_audio.play())}static pub_playTotalResult(){a._trs_audio&&(a._trs_audio.currentTime=0,a._trs_audio.play())}static pub_playChoiceBtn(){a._btn_choice_audio&&(a._btn_choice_audio.currentTime=0,a._btn_choice_audio.play())}static pub_playsorry(){a._sorry_audio&&(a._sorry_audio.currentTime=0,a._sorry_audio.play())}static pub_playretry(){a._retry_audio&&(a._retry_audio.currentTime=0,a._retry_audio.play())}static pub_playgreat(){a._great_audio&&(a._great_audio.currentTime=0,a._great_audio.play())}static pub_playFlipCard(){a._memorygame_flipcard_audio&&(a._memorygame_flipcard_audio.currentTime=0,a._memorygame_flipcard_audio.play())}static pub_playGameClick(){a._ispy_gameclick_audio&&(a._ispy_gameclick_audio.currentTime=0,a._ispy_gameclick_audio.play())}static pub_stop(){null!=a._common_audio.onended&&a._common_audio.onended.call(a._common_audio,new Event("ended")),a._common_audio.oncanplaythrough=null,isNaN(a._common_audio.duration)||a._common_audio.paused||a._common_audio.pause()}static pub_play(e,t){a.pub_stop(),e=i.nteString(e,"");const o=i.nteString(a._common_audio.getAttribute("src"),"");if(""===e&&""===o)return void(null!=t&&t(!0));""!==e&&o!==e&&(a._common_audio.src=e);const n=e=>{a._common_audio.onended=null,null!==t&&t(!0),a._common_audio.removeEventListener("error",n)};a._common_audio.onended=e=>{a._common_audio.onended=null,null!==t&&t(!!e),a._common_audio.removeEventListener("error",n)},a._common_audio.addEventListener("error",n),isNaN(a._common_audio.duration)?(a._common_audio.oncanplaythrough=e=>{0!==a._common_audio.currentTime&&(a._common_audio.currentTime=0),a._common_audio.play(),a._common_audio.oncanplaythrough=null},a._common_audio.load()):(0!==a._common_audio.currentTime&&(a._common_audio.currentTime=0),a._common_audio.oncanplaythrough=null,a._common_audio.play())}static pub_set(e,t,o){a._isDvlp=t,a._lang=o,n.set(t)}static pub_addInitedStudent(e){let t=!0;for(let o=0,i=a._students_inited.length;o<i;o++)a._students_inited[o]===e.id&&(t=!1);t&&a._students_inited.push(e.id);const o=a._start_idx>0&&a._students.length>0&&a._students_inited.length>=a._students.length;return o&&(window.clearTimeout(a._start_idx),a._start_idx=-1),o}static pub_start(e){0===a._students.length||a._students_inited.length>=a._students.length?e():a._start_idx=window.setTimeout(e,2e3)}static pub_clear(){for(;a._students.length>0;)a._students.pop();for(;a._students_inited.length>0;)a._students_inited.pop()}}t.App=a,a._isMobile=!1,a._students=[],a._students_inited=[],a._student=null,a._lang="ko",a._isDvlp=!1,a._data_url="../data/",a._lesson="",a._book="",a._nextBook=!1,a._prevBook=!1,a._start_idx=-1,a.isStarted=!1,a._addOnHost="https://addonsapi.fel40.com"},85:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseClassColor=t.parseDept5SubDiv=t.parseDept5Div=t.parseDept4Div=t.parseDept3Div=void 0,t.parseDept3Div=function(e){return"M0301"===e?"Number&Operations":"M0302"===e?"Measurement&Date":"M0303"===e?"Operations&Algebra":"M0304"===e?"Geometry":""},t.parseDept4Div=function(e){return"M0401"===e?"Concept":"M0402"===e?"Problem":""},t.parseDept5Div=function(e){return"M0501"===e?"Warm-Up":"M0502"===e?"Concept Learning 1":"M0503"===e?"Concept Learning 2":"M0504"===e?"Concept Learning 3":"M0505"===e?"Problem Solving":"M0506"===e?"Wrap-Up":""},t.parseDept5SubDiv=function(e){return"M050101"===e?"Warm-Up QUIZ":"M050102"===e?"Learning Objectives":"M050103"===e?"Concept Summary":"M050201"===e?"Acivity":"M050202"===e?"Concept Tool":"M050203"===e?"Summary":"M050204"===e?"Check":"M050301"===e?"Acivity":"M050302"===e?"Concept Tool":"M050303"===e?"Summary":"M050304"===e?"Check":"M050401"===e?"Acivity":"M050402"===e?"Concept Tool":"M050403"===e?"Summary":"M050404"===e?"Check":"M050501"===e?"Independent Practice":"M050502"===e?"Reasoning (1)":"M050503"===e?"Extended Practice":"M050504"===e?"Reasoning (2)":"M050505"===e?"Strategy":"M050601"===e?"Math Talk":"M050602"===e?"Topic Portfolio":""},t.parseClassColor=function(e){return"B62001"===e?"Black":"White"}},376:function(e,t,o){var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ImgBtn=t.AudioBtn=t.ToggleBtn=void 0;const n=o(804),s=o(965),a=o(98);class r extends n.Component{constructor(e){super(e),this.m_pID=-1,this._inited=this._inited.bind(this),this._onClick=this._onClick.bind(this)}_inited(e){!this.m_el&&e&&(this.m_el=e,this.props.onRef&&this.props.onRef(e),e.setAttribute("touch-action","none"),e.addEventListener("pointerdown",(t=>{if(!(this.m_pID>=0)){if(this.m_pID=t.pointerId,!this.props.disableCapture)try{e.setPointerCapture(this.m_pID)}catch(e){}this.props.onMouseDown&&this.props.onMouseDown(t)}})),e.addEventListener("pointerup",(t=>{if(this.m_pID===t.pointerId){try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1,this.props.onMouseUp&&this.props.onMouseUp(t)}})),e.addEventListener("pointerleave",(t=>{if(this.props.disableCapture){if(this.m_pID!==t.pointerId)return;try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}this.props.onMouseLeave&&this.props.onMouseLeave(t)})),e.addEventListener("pointercancel",(t=>{if(this.m_pID===t.pointerId){try{e.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1,this.props.onMouseLeave&&this.props.onMouseLeave(t)}})))}_onClick(e){this.props.onClick&&this.props.onClick(e),this.props.preventEvent&&(e.preventDefault(),e.stopPropagation())}componentDidUpdate(e){if((this.props.disabled&&!e.disabled||!this.props.view&&e.view)&&this.m_pID>=0){try{this.m_el&&this.m_el.releasePointerCapture(this.m_pID)}catch(e){}this.m_pID=-1}}}i([s.observable],r.prototype,"m_pID",void 0);let c=class extends r{constructor(e){super(e),this.m_on=!1,this.m_on=!0===e.on}componentWillReceiveProps(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}render(){const e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down");const t=e.join(" ");let o=this.props.style;return!1===this.props.view&&(o||(o={}),o.display="none"),n.createElement("button",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,disabled:!0===this.props.disabled,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:o},this.props.children)}};i([s.observable],c.prototype,"m_on",void 0),c=i([a.observer],c),t.ToggleBtn=c;let l=class extends c{constructor(e){super(e)}play(){this.m_on||(this.m_on=!0,this.props.playFnc(this.props.src,(e=>{this.m_on&&(this.m_on=!1,this.props.onPause&&this.props.onPause(e))})))}_onClick(e){this.m_on?(this.props.pauseFnc(),this.m_on=!1):this.play(),super._onClick(e)}};i([s.action],l.prototype,"play",null),i([s.action],l.prototype,"_onClick",null),l=i([a.observer],l),t.AudioBtn=l;let d=class extends r{constructor(e){super(e),this.m_on=!1,this.m_on=!0===e.on}componentWillReceiveProps(e){this.props.on!==e.on&&(this.m_on=!0===e.on)}render(){const e=[];this.props.className&&e.push(this.props.className),this.m_on&&e.push("on"),this.m_pID>0&&e.push("down"),!0===this.props.disabled&&e.push("disable");const t=e.join(" ");let o=this.props.style;return!1===this.props.view&&(o||(o={}),o.display="none"),n.createElement("img",{id:this.props.id,className:t,onClick:this._onClick,ref:this._inited,draggable:!1,onTransitionEnd:this.props.onTransitionEnd,style:o,src:this.props.src,useMap:this.props.useMap})}};i([s.observable],d.prototype,"m_on",void 0),d=i([a.observer],d),t.ImgBtn=d},268:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.importLink=t.importHTML=void 0,t.importHTML=function(e){return new Promise(((t,o)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="document",i.onload=e=>{if(!e)return;const n=i.response;n&&n.body&&n.body.firstElementChild?t(n.body.firstElementChild):n&&n.documentElement?t(n.documentElement):o("error")},i.onerror=e=>{o(e)},i.send(null)}))},t.importLink=function(e,t){return new Promise(((t,o)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="document",i.onload=e=>{if(!e)return;const o=i.response;t(o)},i.onerror=e=>{o(e)},i.send(null)}))}},478:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._toStringTimestamp=t.getDateStr=t.nteArray=t.intToHTMLcolor=t.nteBool=t.nteString=t.nteFloat=t.nteInt=t.nteUInt=t.getUnicUrl=t.getUnicNum=t.getUnic=void 0,Date.now||(Date.now=function(){return(new Date).getTime()});let o=0;function i(){return n().toString(36)}function n(){const e=Date.now();return e>o?o=e:o+=1,o}t.getUnic=i,t.getUnicNum=n,t.getUnicUrl=function(e){if(!e)return"";let t=e=e.trim();return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")||(t=t.indexOf("?")>0?t+"&t="+i():t+"?t="+i()),t},t.nteUInt=function(e,t){if(null==e)return t;if("number"==typeof e)return isNaN(e)||e<0?t:Math.round(e);{const o=parseInt(String(e),10);return isNaN(o)||o<0?t:o}},t.nteInt=function(e,t){if(null==e)return t;if("number"==typeof e)return Math.round(e);{const o=parseInt(String(e),10);return isNaN(o)?t:o}},t.nteFloat=function(e,t){if(null==e)return t;if("number"==typeof e)return e;{const o=parseFloat(String(e));return isNaN(o)?t:o}},t.nteString=function(e,t){return null==e?t:String(e)},t.nteBool=function(e,t){if(null==e)return t;if("boolean"==typeof e)return e;const o=String(e);return"true"===o||"false"!==o&&t},t.intToHTMLcolor=function(e){let t,o,i,n=e-0;t=(255&n)<<16,o=65280&n,i=(16711680&n)>>>16,n=t|o|i;let s=n.toString(16);return s="#000000".substring(0,7-s.length)+s,s},t.nteArray=function(e){if(e){if(Array.isArray(e))return e;if("string"==typeof e){const t=e;if(t.indexOf("[")>=0&&t.indexOf("]")>0)try{return JSON.parse(t)}catch(e){}}const t=[];return t.push(e),t}return[]},t.getDateStr=function(e="."){const t=new Date,o=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();return o+e+(i<10?"0"+i:""+i)+e+(n<10?"0"+n:""+n)},t._toStringTimestamp=function(e){let t;const o=e.getFullYear();let i=e.getMonth()+1+"";parseInt(i,10)<10&&(i="0"+i);let n=e.getDate()+"";return parseInt(n,10)<10&&(n="0"+n),t=o+"-"+i+"-"+n+" "+e.toTimeString().substr(0,8),t}},359:function(e,t,o){var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(n,s){function a(e){try{c(i.next(e))}catch(e){s(e)}}function r(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,r)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getBounds=t.getTimeStr=t.wait=void 0;const n=o(215);t.wait=function(e){return i(this,void 0,void 0,(function*(){return new Promise((t=>{n.delay(t,e)}))}))},t.getTimeStr=function(e,t){const o=Math.round(t/1e3);let i=Math.round(e/1e3),n=Math.floor(i/60),s=Math.floor(n/60),a="";return i%=60,n%=60,s>0||o>=3600?(a=s+":",a+=n>=10?n+":":"0"+n+":"):o>=600?a+=n>=10?n+":":"0"+n+":":a=n+":",a+=i>=10?i:"0"+i,a},t.getBounds=function(e){const t={left:0,top:0,width:0,height:0};if(!e)return t;try{const o=e.getBoundingClientRect();t.left=o.left,t.top=o.top,t.width=o.width,t.height=o.height}catch(e){}const o=e.ownerDocument,i=o.body,n=o.documentElement;t.left=t.left-(n.clientLeft||i.clientLeft||0),t.top=t.top-(n.clientTop||i.clientTop||0);const s=o.defaultView;return t.left+=s.pageXOffset||n.scrollLeft||i.scrollLeft,t.top+=s.pageYOffset||n.scrollTop||i.scrollTop,t}},201:function(e,t,o){var i=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(n,s){function a(e){try{c(i.next(e))}catch(e){s(e)}}function r(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,r)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviewDmsResult=t.getPreviewResult=t.clearPenTool=t.hidePenTool=t.showPenTool=t.showRecordTool=t.showSendButton=t.alertToStudent=t.showSLoading=t.showSMathKit=t.clearSPenTool=t.takePicture=t.uploadInclassReport=t.stopVideoRecord=t.startVideoRecord=t.switchCamera=t.stopCamera=t.startCustomCamera=t.startCamera=t.getStudents=t.uploadImageToServer=t.uploadFileToServer=t.stopVoiceRecord=t.startVoiceRecord=t.sendTeacher=t.disableSoftwareKeyboard=t.sendPAD=t.sendPADToID=t.sendLauncher=t.uploadStudentReport=t.addStudentForStudentReportType6=t.hideStudentReportListPage=t.showStudentReportListPage=t.showStudentReportUI=t.hideStudentReportUI=t.startStudentReportProcess=t.finishContentPage=t.showTMathKit=t.alertToTeacher=t.showTLoading=t.clearTPenTool=t.getBookCaptureInfo=t.uploadTImageToServer=t.useFractionBar=t.logOut=t.exitClass=t.getNaviInfo=t.launchPadTool=t.launchTool=t.exitBook=t.gotoBookByKey=t.gotoBook=t.set=void 0;const n=o(215);let s=!1;t.set=function(e){s=e},t.gotoBook=function(e,t){if(console.log("felsocket gotoBook",e,t),!s)try{window.tsoc_o.gotoBook(e,t)}catch(e){}},t.gotoBookByKey=function(e){if(console.log("felsocket gotoBookByKey",e),!s)try{window.tsoc_o.gotoBookByKey(e)}catch(e){}},t.exitBook=function(){if(console.log("felsocket exitBook"),!s)try{window.tsoc_o.exitBook()}catch(e){}},t.launchTool=function(e){if(console.log("felsocket launchTool",e),!s)try{window.tsoc_o.launchTool(e)}catch(e){}},t.launchPadTool=function(e){if(console.log("felsocket launchPadTool",e),!s)try{window.tsoc_o.launchPadTool(e)}catch(e){}},t.getNaviInfo=function(e){if(console.log("felsocket getNaviInfo",e),!s)try{window.tsoc_o.getNaviInfo(e)}catch(e){}},t.exitClass=function(){if(console.log("felsocket exitClass"),!s)try{window.tsoc_o.exitClass()}catch(e){}},t.logOut=function(){if(console.log("felsocket logOut"),!s)try{window.tsoc_o.logOut()}catch(e){}},t.useFractionBar=function(){if(console.log("felsocket useFractionBar"),!s)try{window.tsoc_o.useFractionBar()}catch(e){}},t.uploadTImageToServer=function(e,t,o,i){if(console.log("felsocket uploadTImageToServer",t,o,i),!s)try{window.tsoc_o.uploadImageToServer(e,t,o,i)}catch(e){}},t.getBookCaptureInfo=function(e){if(console.log("felsocket getBookCaptureInfo"),!s)try{window.tsoc_o.getBookCaptureInfo(e)}catch(e){}},t.clearTPenTool=function(){if(console.log("felsocket clearTPenTool"),!s)try{window.tsoc_o.clearPenTool()}catch(e){}},t.showTLoading=function(e){if(console.log("felsocket showTLoading",e),!s)try{window.tsoc_o.showLoading(e)}catch(e){}},t.alertToTeacher=function(e){if(console.log("felsocket alertToTeacher",e),!s)try{window.tsoc_o.alert(e)}catch(e){}},t.showTMathKit=function(e){if(console.log("felsocket showTMathKit",e),!s)try{window.tsoc_o.showMathKit(e)}catch(e){}},t.finishContentPage=function(){if(!s)try{window.tsoc_o.finishContentPage()}catch(e){}},t.startStudentReportProcess=function(e,t,o){if(!s)try{window.tsoc_o.startStudentReportProcess(e,t,o)}catch(e){}},t.hideStudentReportUI=function(){if(!s)try{window.tsoc_o.hideStudentReportUI()}catch(e){}},t.showStudentReportUI=function(){if(!s)try{window.tsoc_o.showStudentReportUI()}catch(e){}},t.showStudentReportListPage=function(){if(!s)try{window.tsoc_o.showStudentReportListPage()}catch(e){}},t.hideStudentReportListPage=function(){if(!s)try{window.tsoc_o.hideStudentReportListPage()}catch(e){}},t.addStudentForStudentReportType6=function(e){if(!s)try{window.tsoc_o.addStudentForStudentReportType6(e)}catch(e){}},t.uploadStudentReport=function(e,t,o){if(!s)try{window.psoc_o.uploadStudentReport(e,t,o)}catch(e){}},t.sendLauncher=function(e,t){if(5!==e||s)if(6!==e||s)if(7!==e||s){if(8===e)if(console.log("felsocket gotoPrevBook"),s)try{window.top.tsoc_o.gotoPrevBook()}catch(e){}else try{window.tsoc_o.gotoPrevBook()}catch(e){}else if(9===e)if(console.log("felsocket gotoNextBook"),s)try{window.top.tsoc_o.gotoNextBook()}catch(e){}else try{window.tsoc_o.gotoNextBook()}catch(e){}}else try{window.tsoc_o.setTitleBar(t)}catch(e){}else try{window.tsoc_o.showTitleBar()}catch(e){}else try{window.tsoc_o.hideTitleBar()}catch(e){}},t.sendPADToID=function(e,t,o){const i={type:t,data:o};if(s)try{window.top.tsoc_o.sendPADToID(e,i)}catch(e){}else try{window.tsoc_o.sendPADToID(e,i)}catch(e){}},t.sendPAD=function(e,t){const o={type:e,data:t};if(s)try{window.top.tsoc_o.sendAll(o)}catch(e){}else try{window.tsoc_o.sendAll(o)}catch(e){}},t.disableSoftwareKeyboard=function(){try{window.psoc_o.disableSoftwareKeyboard()}catch(e){}},t.sendTeacher=function(e,t){const o={type:e,data:t};if(s)try{window.opener.tsoc_o.sendTeacher(o)}catch(e){}else try{window.psoc_o.sendTeacher(o)}catch(e){}},t.startVoiceRecord=function(){try{window.psoc_o.startVoiceRecord()}catch(e){}},t.stopVoiceRecord=function(){try{window.psoc_o.stopVoiceRecord()}catch(e){}},t.uploadFileToServer=function(e){try{window.psoc_o.uploadFileToServer(e)}catch(e){}},t.uploadImageToServer=function(e,t,o,i){try{window.psoc_o.uploadImageToServer(e,t,o,i)}catch(e){}},t.getStudents=function(e){if(s)if(window.top.tsoc_o)try{window.top.tsoc_o.getStudents(e)}catch(e){}else e([],!1);else try{window.tsoc_o.getStudents(e)}catch(e){}},t.startCamera=function(){if(!s)try{window.psoc_o.startCamera()}catch(e){}},t.startCustomCamera=function(e){if(!s)try{window.psoc_o.startCustomCamera(e)}catch(e){}},t.stopCamera=function(){if(!s)try{window.psoc_o.stopCamera()}catch(e){}},t.switchCamera=function(){if(!s)try{window.psoc_o.switchCamera()}catch(e){}},t.startVideoRecord=function(){if(!s)try{window.psoc_o.startVideoRecord()}catch(e){}},t.stopVideoRecord=function(){if(!s)try{window.psoc_o.stopVideoRecord()}catch(e){}},t.uploadInclassReport=function(e){if(!s)try{window.tsoc_o.uploadInclassReport(e)}catch(e){}},t.takePicture=function(e){if(!s)try{window.psoc_o.takePicture(e)}catch(e){}},t.clearSPenTool=function(){if(console.log("felsocket clearPenTool"),!s)try{window.psoc_o.clearPenTool()}catch(e){}},t.showSMathKit=function(e){if(console.log("felsocket showSMathKit",e),!s)try{window.psoc_o.showMathKit(e)}catch(e){}},t.showSLoading=function(e){if(console.log("felsocket showSLoading",e),!s)try{window.psoc_o.showLoading(e)}catch(e){}},t.alertToStudent=function(e){if(console.log("felsocket alertToStudent",e),!s)try{window.psoc_o.alert(e)}catch(e){}},t.showSendButton=function(e){if(console.log("felsocket showSendButton"),!s)try{window.psoc_o.showSendButton(e)}catch(e){}},t.showRecordTool=function(e){if(console.log("felsocket showRecordTool",e),!s)try{window.psoc_o.showRecordTool(e)}catch(e){}},t.showPenTool=function(){if(console.log("felsocket showPentool"),!s)try{window.psoc_o.showPenTool()}catch(e){}},t.hidePenTool=function(){if(console.log("felsocket hidePentool"),!s)try{window.psoc_o.hidePenTool()}catch(e){}},t.clearPenTool=function(){if(console.log("felsocket clearPenTool"),!s)try{window.psoc_o.clearPenTool()}catch(e){}},t.getPreviewResult=function(e){return i(this,void 0,void 0,(function*(){return new Promise((t=>{if(s)t([]);else{let o=!1;const i=e=>{o||(o=!0,t(e))};window.tsoc_o.getPreviewResult(i,e),n.delay((()=>{o||(o=!0,t([]))}),5e3)}}))}))},t.getPreviewDmsResult=function(e){return i(this,void 0,void 0,(function*(){return new Promise((t=>{if(s)t([]);else{let o=!1;const i=e=>{o||(o=!0,t(e))};window.tsoc_o.getPreviewDmsResult(i,e),n.delay((()=>{o||(o=!0,t([]))}),5e3)}}))}))}},65:function(e,t,o){e=o.nmd(e);var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.appContext=t.AppProvider=void 0;const n=o(804),s=o(98),a=o(53),r=(o(719).default,o(183)),c=o(193),l=o(290);o(967),o(400);const d=o(995);Object.defineProperty(t,"appContext",{enumerable:!0,get:function(){return d.tContext}}),Object.defineProperty(t,"AppProvider",{enumerable:!0,get:function(){return d.TeacherProvider}});const p=o(406);let u=class extends n.Component{render(){const{state:e,actions:t}=this.props,o=e.viewDiv;return n.createElement(n.Fragment,null,n.createElement("div",{className:"content-container"},n.createElement("div",{className:"content-wrapper",style:{left:("direction"===o?0:-1280)+"px"}},n.createElement("div",null,n.createElement(r.default,{className:"video-direction",view:"direction"===o,on:e.directionON,isTeacher:!0,lesson:t.getCurriculum(),bookId:e.bookid,subtitle:"",poster_url:"/content/mathalive_lib/MA/summary/common/bg_direction.jpg",video_url:"/content/mathalive_lib/MA/summary/common/mv_summary.mp4",video_frame:125,onEndStart:t.onDirectionEndStart,onEnd:t.onDirectionEnded},n.createElement("div",{className:"lesson"},""))),n.createElement("div",null,n.createElement(p.default,{view:"content"===o,state:e,actions:t})))),n.createElement(c.Navi,Object.assign({},e.navi,{onLeftClick:t.naviLeft,onRightClick:t.naviRight})),n.createElement(l.ConceptLibrary,{view:e.conceptLibiary.view,onExit:()=>{e.conceptLibiary.view=!1}}))}};u=i([s.observer],u);const h=d.useTeacher((e=>n.createElement(s.Observer,null,(()=>n.createElement(u,{state:e.state,actions:e.actions})))));t.default=a.hot(e)(h)},995:function(e,t,o){var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.useTeacher=t.tContext=t.TeacherConsumer=t.TeacherProvider=t.TeacherContext=t.SENDPROG=void 0;const n=o(804),s=o(965),a=o(201),r=o(680);var c;!function(e){e[e.READY=0]="READY",e[e.SENDING=1]="SENDING",e[e.SENDED=2]="SENDED",e[e.COMPLETE=3]="COMPLETE"}(c||(c={})),t.SENDPROG=c;class l extends r.TeacherContextBase{constructor(){super(),this._uploadedFnc=null,this._alertOkFnc=null,this._alertCancelFnc=null,this.uploaded=e=>{"content"===this.state.viewDiv&&"summary"===this.state.prog&&this._uploadedFnc&&this._uploadedFnc(e)},this.notifyAlert=e=>{console.log("notifyAlert isOk",e),e&&this._alertOkFnc?this._alertOkFnc():this._alertCancelFnc&&this._alertCancelFnc()},this.state.prog="summary",this.state.bookkey=0,this.actions.getData=()=>this._data,this.actions.getCurriculum=()=>this._curriculum,this.actions.gotoDirection=()=>this._setViewDiv("direction"),this.actions.gotoNextBook=()=>{a.sendLauncher(9,null)},this.actions.setUploadedFnc=e=>{this._uploadedFnc=e},this.actions.setAlertOkFnc=e=>{this._alertOkFnc=e},this.actions.setAlertCancelFnc=e=>{this._alertCancelFnc=e}}_setViewDiv(e){super._setViewDiv(e)}receive(e){super.receive(e)}setData(e){this._data=e}notifyNaviInfo(e,t,o,i,n,s){if(console.log("notifyNaviInfo curriculum",e,t,o),e&&(this._curriculum=e,this.state.bookid=t,this.state.classid=o,e&&e.childrenList.length>0)){const o=e.childrenList.findIndex((e=>!!e.book&&e.book.id===t));if(o>-1){const t=e.childrenList[o].book;void 0!==t&&(this.state.bookkey=t.cmsKey)}console.log("notifyNaviInfo bookkey",this.state.bookkey)}}}i([s.observable],l.prototype,"state",void 0),i([s.action],l.prototype,"_setViewDiv",null),t.TeacherContext=l;const d=new l;t.tContext=d;const{Provider:p,Consumer:u}=n.createContext(d);t.TeacherConsumer=u;class h extends n.Component{render(){return n.createElement(p,{value:d},this.props.children)}}t.TeacherProvider=h,t.useTeacher=function(e){return function(t){return n.createElement(u,null,(t=>n.createElement(e,Object.assign({},t))))}}},406:function(e,t,o){var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a},n=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(n,s){function a(e){try{c(i.next(e))}catch(e){s(e)}}function r(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,r)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=o(804),a=o(98),r=o(965),c=o(762),l=o(201),d=o(359),p=o(601);let u=class extends s.Component{constructor(e){super(e),this._curIdx=0,this._prog=0,this._isExit=!1,this._viewAlert=!1,this.bookid=0,this.booklist=[],this.ifr=[],this.onExitBook=()=>{this._isExit=!0,this._viewAlert=!0,this.alertToTeacher()},this.onGotoBook=(e,t)=>{this._viewAlert=!0,this.alertToTeacher(),this.bookid=e,this.booklist=t},this._onAlertPopup=()=>{this._viewAlert=!0,this.alertToTeacher()},this._onAlertOk=()=>{this.props.view&&(this._viewAlert=!1,this.captureImage())},this._onAlertCancel=()=>{if(!this.props.view)return;this._viewAlert=!1,l.clearTPenTool();const e=this.props.actions.getData().quizs;this._isExit?l.exitBook():this.bookid>0?l.gotoBook(this.bookid,this.booklist):this._curIdx>=e.length-1?this.props.actions.gotoNextBook():this._curIdx=this._curIdx+1},this._uploadImage=e=>n(this,void 0,void 0,(function*(){if(!e||""===e)return void l.showTLoading(!1);this.props.actions.setUploadedFnc(this._uploaded);const t=document.getElementsByClassName("contentDiv")[this._curIdx].getBoundingClientRect();console.log("===> rect",this._curIdx,t),c.App.isDvlp?(yield d.wait(1e3),this._uploaded("")):l.uploadTImageToServer(e,!0,{left:t.left,top:t.top,width:t.width,height:t.height},{bookkey:this.props.state.bookkey,idx:this._curIdx})})),this._uploaded=e=>n(this,void 0,void 0,(function*(){if(!this.props.view)return void l.showTLoading(!1);l.showTLoading(!1),l.clearTPenTool();const e=this.props.actions.getData().quizs;this._isExit?l.exitBook():this.bookid>0?l.gotoBook(this.bookid,this.booklist):this._curIdx>=e.length-1?this.props.actions.gotoNextBook():this._curIdx=this._curIdx+1})),this.handlePostMessage=e=>n(this,void 0,void 0,(function*(){console.log("=====> handlePostMessage",e.data);const t=e.data;if("macontent"===t.from&&"domtoimage"===t.type){console.log("data.msg: ",t.msg.base64Img);const e=t.msg.base64Img;this._uploadImage(e)}}))}alertToTeacher(){l.alertToTeacher({text:"Do you want to save the current learning screen? If there is already saved data, the current data will be overwritten.",type:"confirm",from:"book"})}componentDidMount(){window.addEventListener("message",this.handlePostMessage,!1)}componentWillUnmount(){window.removeEventListener("message",this.handlePostMessage,!1)}sendPostMessage(e,t){console.log("=====> sendPostMessage",e,t);const o={from:"matemplate",to:"macontent",type:e,msg:t};this._curIdx>-1&&this.ifr[this._curIdx]&&this.ifr[this._curIdx].contentWindow.postMessage(o,"*")}initContent(){this.sendPostMessage("init",{idx:0,quizmode:"conceptsummary",isTeacher:!0})}captureImage(){this.ifr[this._curIdx]&&null!==this.ifr[this._curIdx].contentWindow&&(l.showTLoading(!0),this.sendPostMessage("domtoimage",null))}_setNavi(){const e=this.props.actions.getData().quizs;this.props.actions.setNaviView(!0),this.props.actions.setNavi(!0,!0),this.props.actions.setNaviFnc((()=>{l.clearTPenTool(),0===this._curIdx?this.props.actions.gotoDirection():(c.App.pub_playBtnPage(),this._curIdx=this._curIdx-1)}),(()=>{this._curIdx>=e.length-1||c.App.pub_playBtnPage(),this._onAlertPopup()}))}componentDidUpdate(e){this.props.view&&!e.view?(this._curIdx=0,this._viewAlert=!1,this._isExit=!1,this.bookid=0,this.booklist=[],this.props.actions.setUploadedFnc(null),this.props.actions.setAlertOkFnc(this._onAlertOk),this.props.actions.setAlertCancelFnc(this._onAlertCancel)):!this.props.view&&e.view&&(this._viewAlert=!1,this._isExit=!1,this.bookid=0,this.booklist=[],this.props.actions.setUploadedFnc(null),this.props.actions.setAlertOkFnc(null),this.props.actions.setAlertCancelFnc(null)),this.props.view&&this._setNavi()}render(){const{view:e,state:t,actions:o}=this.props,{quizs:i,title:n}=o.getData();return s.createElement("div",{className:"t_summary"},s.createElement("div",{className:"summaryContent"},s.createElement(p.MAHeader,{view:e,lesson:this.props.actions.getCurriculum(),bookid:t.bookid,onExitBook:this.onExitBook,onGotoBook:this.onGotoBook,onConceptLibrary:()=>{this.props.state.conceptLibiary.view=!0}}),s.createElement("div",{className:"topHeader"},s.createElement("div",{className:"nav"},i.map(((e,t)=>s.createElement("div",{key:t,className:this._curIdx===t?"on":""}))))),s.createElement("div",{id:"contentWrap",className:"contentWrap"},i.map(((e,t)=>s.createElement("div",{className:"contentDiv",key:"i"+t,style:{display:this._curIdx===t?void 0:"none"}},s.createElement("iframe",{src:c.App.data_url+e.url+"?idx="+t,ref:e=>{e&&(this.ifr[t]=e)}})))))))}};i([r.observable],u.prototype,"_curIdx",void 0),i([r.observable],u.prototype,"_prog",void 0),i([r.observable],u.prototype,"_isExit",void 0),i([r.observable],u.prototype,"_viewAlert",void 0),u=i([a.observer],u),t.default=u},290:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConceptLibrary=void 0;const i=o(804),n=[{title:"Read and Write 4 and 5",subtitle:"Grade 1 / Number&Operations",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]},{title:"Read and Write 4 and 5",subtitle:"Grade 1 / Number&Operations",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]},{title:"Read and Write 4 and 5",subtitle:"Grade 1 / Number&Operations",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]}],s=[{title:"Recognize 1, 2, and 3 in Different Arrangements",books:[{title:"Activity",image:"/content/mathalive_lib/images/cl_screenimg_01.jpg"},{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_02.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_03.jpg"}]},{title:"Read and Write 4 and 5",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]},{title:"Read and Write 4 and 5",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]},{title:"Read and Write 4 and 5",books:[{title:"Concept tool",image:"/content/mathalive_lib/images/cl_screenimg_04.jpg"},{title:"Summary",image:"/content/mathalive_lib/images/cl_screenimg_05.jpg"}]}];class a extends i.Component{render(){return i.createElement("header",null,i.createElement("h1",null,"Concept Library"),i.createElement("form",null,i.createElement("input",{type:"text",placeholder:"Search for the concept’s keyword"}),i.createElement("button",{className:"search_btn",onClick:e=>{this.props.doResult(!0),e.preventDefault()}},"전송"),i.createElement("button",{className:"clear"})),i.createElement("button",{className:"closebutton",onClick:e=>{this.props.doExit()}},"닫기"))}}class r extends i.Component{constructor(e){super(e),this.state={list_visible:!1}}render(){return i.createElement("div",{className:"submenu_detail "+this.props.datatype},i.createElement("strong",null,this.props.title),i.createElement("button",{className:this.state.list_visible?"toggler active":"toggler",onClick:()=>this.setState({list_visible:!this.state.list_visible})},"여닫기"),i.createElement("ul",{className:this.state.list_visible?"active":""},this.props.list.map(((e,t)=>i.createElement("li",{key:"detail"+t},e)))))}}class c extends i.Component{render(){return i.createElement("div",{className:"topic_box contents"},i.createElement("strong",null,"Topic"),i.createElement("ol",null,this.props.subtitle.map(((e,t)=>i.createElement("li",{key:"topic"+t},i.createElement("span",{className:"number"},t+1,")"),i.createElement("span",{className:"con"},e))))))}}class l extends i.Component{constructor(){super(...arguments),this.TitlePrint=()=>this.props.items&&0!==this.props.items.length?this.props.items[0].mainTitle?i.createElement("ul",{className:"topic_list overflowscroll"},this.props.items.map(((e,t)=>i.createElement("li",{className:"topic_title "+(0===t?"active":""),key:"topic_title"+t},i.createElement("h2",null,i.createElement("strong",null,e.mainTitle),i.createElement("span",null,e.subTitle)),i.createElement(c,{subtitle:e.detail}))))):i.createElement("div",{className:"overflowscroll"},i.createElement(c,{subtitle:this.props.items[0].detail})):i.createElement(i.Fragment,null)}render(){return!1===this.props.is_visible?i.createElement(i.Fragment,null):i.createElement(i.Fragment,null,this.props.children,i.createElement("section",{className:"modulelist"},this.TitlePrint()))}}class d extends i.Component{render(){return i.createElement("ul",{className:"toggle_grade"},i.createElement("li",null,i.createElement("button",{className:"grade"===this.props.datatype?"grade active":"grade",onClick:()=>this.props.changeType("grade")},"Grade")),i.createElement("li",null,i.createElement("button",{className:"domain"===this.props.datatype?"domain active":"domain",onClick:()=>this.props.changeType("domain")},"Domain")))}}class p extends i.Component{render(){return i.createElement("div",null,i.createElement("h4",null,this.props.title),i.createElement("img",{src:this.props.image}))}}class u extends i.Component{printBooks(){return i.createElement(i.Fragment,null,this.props.children,i.createElement("ul",null,this.props.books.map(((e,t)=>i.createElement("li",{key:t},i.createElement(p,Object.assign({},e)))))))}render(){return i.createElement("section",{className:"books"},i.createElement("h3",null,this.props.title),this.printBooks())}}class h extends i.Component{render(){return!1===this.props.view?i.createElement(i.Fragment,null):i.createElement("div",null,this.props.list.map(((e,t)=>i.createElement(u,Object.assign({key:t},e)))))}}class m extends i.Component{printResult(){return null===this.props.list||0===this.props.list.length?i.createElement("div",{className:"no_result"},i.createElement("img",{src:"/content/mathalive_lib/images/cl_noresult_zoom.jpg"}),i.createElement("strong",null,"There are no matching concept names.")):this.props.list.map(((e,t)=>i.createElement("div",{className:t%2!=0?"sectionbox odd":"sectionbox"},i.createElement("em",null,e.subtitle),i.createElement(u,Object.assign({},e)))))}render(){return!1===this.props.view?i.createElement(i.Fragment,null):i.createElement("section",{className:"search_result"},this.props.children,this.printResult())}}class _ extends i.Component{render(){return i.createElement("div",{className:"title"},i.createElement("button",{onClick:e=>{this.props.doResult(!1),e.preventDefault()}},"뒤로가기"),i.createElement("span",null,"Search results (",this.props.resultsize,")"))}}class g extends i.Component{constructor(e){super(e),this.state={datatype:"grade",resultmode:!1}}componentDidUpdate(e){this.props.view&&!e.view||!this.props.view&&e.view}render(){return i.createElement("div",{className:"cl_background",style:{display:this.props.view?void 0:"none"}},i.createElement(a,Object.assign({},this.props,{doResult:e=>{this.setState({resultmode:e})},doExit:this.props.onExit})),i.createElement("div",{className:"mainframe"},(()=>i.createElement(i.Fragment,null,i.createElement("div",{className:"leftside "+(!1===this.state.resultmode?"active":"")},i.createElement(d,{datatype:this.state.datatype,changeType:e=>this.setState({datatype:e})}),i.createElement(l,{items:[{mainTitle:"Module 1",subTitle:"Understand Numbers 0-5 and Ways to make 5",detail:["Count, Read and Write Number",i.createElement(i.Fragment,null,"Build Two-Dimensional (2-D) Shapes and",i.createElement("br",null),"Three-Dimensional (3-D) Shapes"),"Ways to make 5"]},{mainTitle:"Module 2",subTitle:"Compare numbers, Classify data and Represent addition",detail:["Count, Read and Write Number",i.createElement(i.Fragment,null,"Build Two-Dimensional (2-D) Shapes and",i.createElement("br",null),"Three-Dimensional (3-D) Shapes"),"Ways to make 5"]},{mainTitle:"Module 3",subTitle:"Decompose and Represent Numbers",detail:["Count, Read and Write Number",i.createElement(i.Fragment,null,"Build Two-Dimensional (2-D) Shapes and",i.createElement("br",null),"Three-Dimensional (3-D) Shapes"),"Ways to make 5"]},{mainTitle:"Module 4",subTitle:"Understand Numbers 0-5 and Ways to make 5",detail:["Count, Read and Write Number",i.createElement(i.Fragment,null,"Build Two-Dimensional (2-D) Shapes and",i.createElement("br",null),"Three-Dimensional (3-D) Shapes"),"Ways to make 5"]}],is_visible:"grade"===this.state.datatype},i.createElement(r,{datatype:this.state.datatype,title:"GradeK",list:["Grade 1","Grade 2","Grade 3","Grade 4"]})),i.createElement(l,{items:[{detail:["Understand Fractions with shape","Understand Fractions with Number line","Equivalent Fractions","Compare numbers to 10","Equivalent Fractions","Count and Write Numbers 11 - 17","Count and Write Numbers 18 - 20","Make Numbers 11 - 19 by Composing","Use Models to Add Within 100","Add Tens and Ones using Models ","Add 2-Digit Numbers by making a Ten",i.createElement(i.Fragment,null,"Add 2-Digit Numbers using Partial Sums",i.createElement("br",null),"and Place Value")]}],is_visible:"domain"===this.state.datatype},i.createElement(r,{datatype:this.state.datatype,title:"Number&Operations",list:["Measuremenet&Data","Operations&Algebra","Geometry"]}))),i.createElement("div",{className:"rightside "+(!1===this.state.resultmode?"":"full")},i.createElement(h,{view:!1===this.state.resultmode,list:s}),i.createElement(m,{view:!0===this.state.resultmode,list:n},i.createElement(_,{doResult:e=>{this.setState({resultmode:e})},resultsize:n.length})))))()))}}t.ConceptLibrary=g},601:function(e,t,o){var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MAHeader=void 0;const n=o(804),s=o(965),a=o(98),r=o(215),c=o(201),l=o(85),d=o(719).default;let p=class extends n.Component{constructor(e){super(e),this.lesson=void 0,this.curStep=void 0,this.step_groups=[],this.step_group_names=[],this.viewUnitSelectBox=!1,this._soption={direction:"vertical",observer:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,noSwiping:!1,followFinger:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!1}},this._refSwiper=e=>{!this._swiper&&e&&(this._swiper=e.swiper)},this.onExitBook=()=>{this.props.onExitBook?this.props.onExitBook():(c.clearTPenTool(),c.exitBook())},this.onConceptLibrary=()=>{this.props.onConceptLibrary&&this.props.onConceptLibrary()},this.onChoiceStep=e=>{if(this.lesson){const t=this.lesson.childrenList.find(((t,o)=>t.id===e));let o=[];this.lesson.childrenList.map((e=>{const t=e.book?e.book.id:0;t>0&&o.push(t)})),t&&t.book&&(this.props.onGotoBook?this.props.onGotoBook(t.book.id,o):c.gotoBook(t.book.id,o))}},this.onViewSelectBox=()=>{this.viewUnitSelectBox=!this.viewUnitSelectBox,this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0)),r.delay((()=>{this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0))}),300)}}select_box_parse(){if(this.lesson&&this.curStep&&void 0!==this.lesson.div)if("Concept"===l.parseDept4Div(this.lesson.div)){let e=this.lesson.childrenList.filter((e=>"Warm-Up"===l.parseDept5Div(e.div)));e&&(this.step_groups.push(e),this.step_group_names.push("Warm-Up")),e=this.lesson.childrenList.filter((e=>"Concept Learning 1"===l.parseDept5Div(e.div))),e&&(this.step_groups.push(e),this.step_group_names.push("Concept Learning 1")),e=this.lesson.childrenList.filter((e=>"Concept Learning 2"===l.parseDept5Div(e.div))),e&&(this.step_groups.push(e),this.step_group_names.push("Concept Learning 2")),e=this.lesson.childrenList.filter((e=>"Concept Learning 3"===l.parseDept5Div(e.div))),e&&(this.step_groups.push(e),this.step_group_names.push("Concept Learning 3")),e=this.lesson.childrenList.filter((e=>"Wrap-Up"===l.parseDept5Div(e.div))),e&&(this.step_groups.push(e),this.step_group_names.push("Wrap-Up"))}else if("Problem"===l.parseDept4Div(this.lesson.div)){let e=this.lesson.childrenList.filter((e=>"Warm-Up"===l.parseDept5Div(e.div)));e&&(this.step_groups.push(e),this.step_group_names.push("Warm-Up")),e=this.lesson.childrenList.filter((e=>"Problem Solving"===l.parseDept5Div(e.div))),e&&(this.step_groups.push(e),this.step_group_names.push("Problem Solving")),e=this.lesson.childrenList.filter((e=>"Wrap-Up"===l.parseDept5Div(e.div))),e&&(this.step_groups.push(e),this.step_group_names.push("Wrap-Up"))}}componentDidMount(){this.props.lesson&&(this.lesson=this.props.lesson,this.props.bookid&&this.lesson.childrenList.map((e=>{e.book&&e.book.id===this.props.bookid&&(this.curStep=e)}))),this.select_box_parse()}componentDidUpdate(e){this.props.view&&!e.view&&(this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0)),r.delay((()=>{this._swiper&&(this._swiper.update(),this._swiper.scrollbar&&this._swiper.scrollbar.updateSize(),this._swiper.slideTo(0))}),300)),this.props.lesson!==e.lesson&&this.props.lesson&&(this.lesson=this.props.lesson,this.props.bookid&&this.lesson.childrenList.map((e=>{e.book&&e.book.id===this.props.bookid&&(this.curStep=e)})),this.select_box_parse())}render(){let e=[];return n.createElement("div",{className:"maheader"},n.createElement("button",{className:"btn_menu"}),n.createElement("div",{className:"user"},n.createElement("img",{src:"/content/mathalive_lib/images/temp_ico_submituser_01.png"}),n.createElement("span",{className:"name"},"Charlotee")),n.createElement("div",{className:"live_guage twinkle"},n.createElement("div",{className:"heart"}),n.createElement("div",{className:"bar_wrap"},n.createElement("div",{className:"bar",style:{width:"100%"}}),n.createElement("div",{className:"num overmax","data-value":"100"},"100"))),n.createElement("div",{style:{display:"none"}},n.createElement("div",{className:"pulldown"},n.createElement("div",{className:"tit",onClick:this.onViewSelectBox},this.curStep?this.curStep.name:""),n.createElement("button",{className:"btn_arrow",onClick:this.onViewSelectBox})),n.createElement("div",{className:"pulldown_content "+(this.viewUnitSelectBox?"on":"")}),n.createElement("div",null,n.createElement(d,Object.assign({},this._soption,{ref:this._refSwiper}),this.step_groups&&this.step_groups.map(((t,o)=>n.createElement("div",{key:"grp"+o},n.createElement("div",{className:"tit"},this.step_group_names[o]),t.map(((o,i)=>(this.curStep&&o.id===this.curStep.id&&(e=t),n.createElement("div",{key:"step"+i,className:"tit_sub",onClick:this.onChoiceStep.bind(this,o.id)},o.name))))))))),n.createElement("div",{className:"class_name"},e.map(((e,t)=>n.createElement("span",{key:"span"+e.id,className:this.curStep&&e.id===this.curStep.id?"now":void 0,onClick:this.onChoiceStep.bind(this,e.id)},e.name)))),n.createElement("div",{className:"concept_library",onClick:this.onConceptLibrary},"Concept",n.createElement("br",null),"Library")))}};i([s.observable],p.prototype,"step_groups",void 0),i([s.observable],p.prototype,"step_group_names",void 0),i([s.observable],p.prototype,"viewUnitSelectBox",void 0),p=i([a.observer],p),t.MAHeader=p},193:function(e,t,o){var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Navi=void 0;const n=o(804),s=o(965),a=o(98),r=o(376);let c=class extends n.Component{constructor(e){super(e),this.m_on=!1,this.m_isStarted=!1,this._onClick=e=>{this.m_on=!0}}componentDidUpdate(e){this.m_isStarted||!this.props.view||e.view||(this.m_isStarted=!0,this.m_on=!0)}render(){const e=this.m_on?void 0:"off",t={visibility:this.props.view?"visible":"hidden"};return n.createElement(n.Fragment,null,n.createElement("div",{id:"common_navi_left",className:e,style:t},n.createElement("div",null,n.createElement("div",{onClick:this._onClick},n.createElement(r.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),n.createElement(r.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))),n.createElement("div",{id:"common_navi_right",className:e,style:t},n.createElement("div",null,n.createElement("div",{onClick:this._onClick},n.createElement(r.ToggleBtn,{className:"right",disabled:!this.props.enableRight,onClick:this.props.onRightClick}),n.createElement(r.ToggleBtn,{className:"left",disabled:!this.props.enableLeft,onClick:this.props.onLeftClick})))))}};i([s.observable],c.prototype,"m_on",void 0),c=i([a.observer],c),t.Navi=c},680:function(e,t,o){var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TeacherContextBase=void 0;const n=o(965),s=o(762),a=o(201),r=o(85);class c{constructor(){this._naviLeftFnc=null,this._naviRightFnc=null,this.state={viewDiv:"direction",directionON:!1,navi:{view:!1,enableLeft:!1,enableRight:!1},svg_bg:{view:!0,bPlay:!1,viewCharactor:!0},retCnt:0,numOfStudent:0,bookid:0,curriculumid:0,classid:0,unitid:0,lessonid:0,conceptLibiary:{view:!1,datatype:"grade",resultmode:!1}},this.actions={onDirectionEndStart:()=>{"direction"===this.state.viewDiv&&a.sendPAD(3,null)},onDirectionEnded:()=>{"direction"===this.state.viewDiv&&this._setViewDiv("content"),s.App.isStarted=!0},setNaviView:e=>{this.state.navi.view=e},setNavi:(e,t)=>{this.state.navi.enableLeft=e,this.state.navi.enableRight=t},setNaviFnc:(e,t)=>{this._naviLeftFnc=e,this._naviRightFnc=t},naviLeft:()=>{"direction"===this.state.viewDiv?a.sendLauncher(8,null):(s.App.pub_playBtnPage(),this._naviLeftFnc?this._naviLeftFnc():this._setViewDiv("direction"))},naviRight:()=>{"direction"===this.state.viewDiv?(s.App.pub_playBtnPage(),this.state.directionON=!1):(s.App.pub_playBtnPage(),this._naviRightFnc?this._naviRightFnc():a.sendLauncher(9,null))},setRetCnt:e=>{e>this.state.numOfStudent&&(e=this.state.numOfStudent),this.state.retCnt=e},setNumOfStudent:e=>{this.state.numOfStudent=e},setConcepLibaryView:e=>{this.state.conceptLibiary.view=e},setConcepLibaryDataType:e=>{this.state.conceptLibiary.datatype=e},setConcepLibaryResultMode:e=>{this.state.conceptLibiary.resultmode=e}},this.notifyBookCaptureInfo=e=>{},this.clickSendButton=()=>{},this.notifyRecordData=(e,t)=>{},this.notifyAlert=e=>{}}_setViewDiv(e){this.state.viewDiv!==e&&(s.App.pub_stop(),"direction"===e?(this.state.directionON=!0,this.state.svg_bg.bPlay=!0,this.state.svg_bg.viewCharactor=!0,a.sendLauncher(5,null),a.sendPAD(1,null),this.state.navi.view=!0,this.state.navi.enableLeft=s.App.prevBook,this.state.navi.enableRight=!0,this._naviLeftFnc=null,this._naviRightFnc=null,this.state.conceptLibiary.view=!1,this.state.conceptLibiary.datatype="grade",this.state.conceptLibiary.resultmode=!1):(this.state.directionON=!1,this.state.svg_bg.bPlay=!1,this.state.svg_bg.viewCharactor=!1,a.sendLauncher(6,null),a.sendPAD(0,null)),this._naviLeftFnc=null,this._naviRightFnc=null,this.state.numOfStudent=0,this.state.retCnt=0,this.state.viewDiv=e)}start(){if("direction"===this.state.viewDiv&&(this.state.directionON=!0,this.state.navi.view=!0,this.state.navi.enableLeft=s.App.prevBook,this.state.navi.enableRight=!0,this.state.svg_bg.bPlay=!0,a.sendLauncher(5,null),a.sendPAD(1,null)),s.App.isDvlp){let e="";if(e="M0401",""===e)return;let t={id:1e3,code:"",depth:4,depth_name:"M0401"===e?"1 day":"M0402"===e?"2 day":"",info:"",div:e,subDiv:"",name:r.parseDept4Div(e),thumbnail:"",childrenList:[]},o="",i="",n="";if("Concept"===r.parseDept4Div(e))for(let e=0;e<14;e++){0===e?(o="M0501",i="M050101",n="WarmUp Quiz"):1===e?(o="M0501",i="M050102",n="Learning Objectives"):2===e?(o="M0502",i="M050201",n="Acivity"):3===e?(o="M0502",i="M050202",n="Concept Tool"):4===e?(o="M0502",i="M050203",n="Summary"):5===e?(o="M0502",i="M050204",n="Check"):6===e?(o="M0503",i="M050302",n="Concept Tool"):7===e?(o="M0503",i="M050303",n="Summary"):8===e?(o="M0503",i="M050304",n="Check"):9===e?(o="M0504",i="M050401",n="Acivity"):10===e?(o="M0504",i="M050403",n="Summary"):11===e?(o="M0504",i="M050404",n="Check"):12===e?(o="M0506",i="M050601",n="Math Talk"):13===e&&(o="M0507",i="M050602",n="Adaptive Learning");let s={id:16815+e,code:"",depth:5,depth_name:n,info:"",div:o,subDiv:i,name:n,thumbnail:"",childrenList:[],book:{id:1e4+e,path:"/content/"+(5787+e),viewMode:2,key:5280+e,cmsKey:5787+e,completed:0,updatetime:""}};t.childrenList.push(s)}else if("Problem"===r.parseDept4Div(e))for(let e=0;e<14;e++){0===e?(o="M0501",i="M050101",n="WarmUp Quiz"):1===e?(o="M0501",i="M050103",n="Concept Summary"):2===e?(o="M0505",i="M050501",n="Independent Practice"):3===e?(o="M0505",i="M050502",n="Reasoning (1)"):4===e?(o="M0505",i="M050503",n="Extended Practice"):5===e?(o="M0505",i="M050504",n="Reasoning (2)"):6===e?(o="M0505",i="M050505",n="Strategy"):7===e?(o="M0506",i="M050602",n="Topic Portfolio"):8===e?(o="M0507",i="M050701",n="Hit Moles"):9===e?(o="M0508",i="M050801",n="Hidden Picture"):10===e?(o="M0509",i="M050901",n="Memorry Game"):11===e?(o="M0510",i="M051001",n="Math Talk"):12===e?(o="M0511",i="M051101",n="Module Review"):13===e&&(o="M05112",i="M051102",n="Adaptive Learning");let s={id:16829+e,code:"",depth:5,depth_name:n,info:"",div:o,subDiv:i,name:n,thumbnail:"",childrenList:[],book:{id:2e4+e,path:"/content/"+(5800+e),viewMode:2,key:5279+e,cmsKey:5800+e,completed:0,updatetime:""}};t.childrenList.push(s)}let s=1e4;s=10004,this.notifyNaviInfo(t,s,1)}else{let e="";a.getNaviInfo(e)}}receive(e){}uploaded(e){}notify(e){}notifyRecorded(e){}notifyVideoRecord(e){}notifyNaviInfo(e,t,o,i,n,s){}notifyPenToolState(e,t){}}i([n.observable],c.prototype,"state",void 0),i([n.action],c.prototype,"_setViewDiv",null),i([n.action],c.prototype,"start",null),t.TeacherContextBase=c},183:function(e,t,o){var i=this&&this.__decorate||function(e,t,o,i){var n,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(s<3?n(a):s>3?n(t,o,a):n(t,o))||a);return s>3&&a&&Object.defineProperty(t,o,a),a},n=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(n,s){function a(e){try{c(i.next(e))}catch(e){s(e)}}function r(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,r)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=o(804),a=o(965),r=o(98),c=o(359);let l=class extends s.Component{constructor(e){super(e),this.m_on=!1,this.m_showMathKit=!1,this.bookInfo=[],this.curIndex=0,this._list=[],this._onClick=()=>{this.props.isTeacher&&this._off()},this._off=()=>n(this,void 0,void 0,(function*(){this.props.view&&this.m_on&&(this.m_on=!1,this.props.onEndStart&&this.props.onEndStart(),yield c.wait(500),this.props.view&&!this.m_on&&this.props.onEnd&&this.props.onEnd())})),this.m_on=e.view&&e.on}_on(){return n(this,void 0,void 0,(function*(){this.m_on=!0}))}componentWillReceiveProps(e){if(void 0===this.props.lesson&&void 0!==e.lesson){for(;this.bookInfo.length>0;)this.bookInfo.pop();e.lesson.childrenList&&e.lesson.childrenList.length>0&&e.lesson.childrenList.map(((t,o)=>{t.book?(t.book.id===e.bookId&&(this.curIndex=o),this.bookInfo.push({bookName:t.name?t.name:"",id:t.id,lesson:e.lesson?e.lesson.name:"",subtitle:t.depth_name})):this.bookInfo.push({bookName:"",id:-1,lesson:"",subtitle:""})}))}}componentDidUpdate(e){this.props.view?e.view?this.props.on&&!e.on?this._on():!this.props.on&&e.on&&this._off():this.props.on?this._on():this.m_on=!1:this.m_on=!1}render(){const{isTeacher:e,subtitle:t}=this.props,o=[];o.push(this.props.className);const i=document.querySelector(".bgm");return this.props.view?(this.m_on&&o.push("on"),i&&i.play()):(o.push("hide"),i&&(i.pause(),i.currentTime=0)),s.createElement("div",{className:o.join(" "),onClick:this._onClick},e&&this.bookInfo&&s.createElement("span",{className:"concept_name"},this.bookInfo.length>0?this.bookInfo[this.curIndex].lesson:""),s.createElement("div",{className:"progress_dot"},e&&this.bookInfo&&this.bookInfo.map(((e,t)=>s.createElement("span",{key:"q_"+t,className:this.curIndex===t?"on":""})))),s.createElement("div",{className:"video"},s.createElement("video",{muted:!0,autoPlay:!0,poster:this.props.poster_url?this.props.poster_url:void 0},s.createElement("source",{src:this.props.video_url,type:"video/mp4"}),s.createElement("strong",null,"Your browser does not support the video tag."))),s.createElement("div",{className:"text"},s.createElement("div",{className:"t1"},this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].bookName:""),e&&s.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:this.bookInfo&&this.bookInfo.length>0?this.bookInfo[this.curIndex].subtitle:""}}),!e&&s.createElement("div",{className:"t2",dangerouslySetInnerHTML:{__html:t}})),s.createElement("audio",{className:"bgm",autoPlay:!0,src:this.props.audio_url?this.props.audio_url:void 0}))}};i([a.observable],l.prototype,"m_on",void 0),i([a.observable],l.prototype,"_list",void 0),i([a.action],l.prototype,"_off",void 0),l=i([r.observer],l),t.default=l},967:(e,t,o)=>{o.r(t)},989:(e,t,o)=>{o.r(t)},400:(e,t,o)=>{o.r(t)},209:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});var i,n=(i=o(804))&&"object"==typeof i&&"default"in i?i.default:i;function s(e){return s.warnAboutHMRDisabled&&(s.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),n.Children.only(e.children)}s.warnAboutHMRDisabled=!1;var a=function e(){return e.shouldWrapWithAppContainer?function(e){return function(t){return n.createElement(s,null,n.createElement(e,t))}}:function(e){return e}};a.shouldWrapWithAppContainer=!1,t.AppContainer=s,t.hot=a,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},53:(e,t,o)=>{e.exports=o(209)},804:e=>{e.exports=React},196:e=>{e.exports=ReactDOM},719:e=>{e.exports=ReactIdSwiper},215:e=>{e.exports=_},965:e=>{e.exports=mobx},98:e=>{e.exports=mobxReact}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{const e=o(53),t=o(804),i=o(196),n=o(762),s=o(201),a=o(268);e.setConfig({ErrorOverlay:e=>t.createElement("div",null)});const r={clear:n.App.pub_clear,importLink:a.importLink,importHTML:a.importHTML};let c;c=o(65);let l=!1;const d=c,p=d.default,u=d.AppProvider,h=d.appContext;r.set=(e,t,o)=>{n.App.pub_set(e,t,o),h.setData(e)},r.render=()=>{n.App.pub_initAudio(),i.render(t.createElement(u,null,t.createElement(p,null)),document.getElementById("wrap"))},r.init=(e,t,o,i,s,a)=>{n.App.pub_load(e,null,t,o,i,s,a)},r.start=()=>{l=!0,setTimeout((()=>h.start()),500)},r.receive=e=>{if(4===e.type){const t=e.data;l?t&&t.id&&""!==t.id&&(n.App.isStarted?s.sendPADToID(t.id,0,null):s.sendPADToID(t.id,1,null)):n.App.pub_addInitedStudent(t)&&(l||(l=!0,h.start()))}else h.receive(e)},r.teachingTool=e=>{},r.notifyNaviInfo=(e,t,o,i,n,s)=>{console.log("index.tsx ========>>>> notifyNaviInfo"),h.notifyNaviInfo(e,t,o,i,n,s)},r.notifyBookCaptureInfo=e=>{h.notifyBookCaptureInfo(e)},r.notifyUploadToServerResult=e=>{h.uploaded(e)},r.notifyAlert=e=>{h.notifyAlert(e)},r.notifyPenToolState=(e,t)=>{console.log("app_o notifyPenToolState"),h.notifyPenToolState(e,t)},o(989),o.g.app_o=r})()})();